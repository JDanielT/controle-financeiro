<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Ooops!!!</title>
    </h:head>
    <h:body>

        <ui:composition template="index.xhtml"> 

            <ui:define name="conteudo">

                <h:form prependId="false" >

                    <script type="text/javascript" >
                        function mudarEstado(el) {
                            var display = document.getElementById(el).style.display;
                            if (display == "none") {
                                document.getElementById(el).style.display = 'block';
                                document.getElementById('btn').setAttribute('value', 'ocultar');
                            } else {
                                document.getElementById(el).style.display = 'none';
                                document.getElementById('btn').setAttribute('value', 'detalhes');
                            }
                        }
                    </script>

                    <div class="container" >

                        <h:panelGrid  >
                            <h2>Ooooooops!!!</h2>
                        </h:panelGrid>

                        Desculpe, um erro ocorreu, contate o administrador pelo Telefone (88)9792.6700<br/>

                        <p style="margin-top: 15px" >

                            <h:commandButton id="btn"
                                             type="button"
                                             class="btn btn-primary"
                                             value="detalhes"
                                             onclick="mudarEstado('stack')"
                                             />

                        </p>

                        <div id="stack" 
                             style="display: none; margin-top: 5px" >

                            <script type="text/javascript" >window.location.href</script>

                            <p id="url"></p>

                            <script>
                                document.getElementById("url").innerHTML = "URL: " + window.location.href;
                            </script>

                            <p>
                                Stack: #{erroBean.stackTrace}
                            </p>
                        </div>

                    </div>

                </h:form>

            </ui:define>

        </ui:composition>

    </h:body>

</html>

